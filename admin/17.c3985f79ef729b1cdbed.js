(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"7wo0":function(t,e,i){"use strict";i.r(e),i.d(e,"SettingsModule",(function(){return _}));var n=i("ofXK"),r=i("2Vo4"),s=i("fXoL"),o=i("OlR4"),a=i("FnMX"),l=i("AytR"),u=i("tk/3");let c=(()=>{class t{constructor(t){this.httpClient=t,this.baseUrl=l.a.baseUrl}setSetting(t){return this.httpClient.post(this.baseUrl+"/setSetting",t)}listSetting(t){return this.httpClient.get(`${this.baseUrl}/listSetting?typeWise=${t.typeWise}&value=${t.value}&userId=${t.userId}`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(u.b))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("lGQG"),g=i("3Pt+"),m=i("5eHb"),p=i("vOPS");let h=(()=>{class t{constructor(){}marketWise(t){let e=[];return t.forEach(t=>{t.markets.forEach(i=>{e.push(Object.assign(Object.assign({},i),{eventName:t.eventName,eventTypeId:t.eventTypeId}))})}),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i("Jg6B"),f=i("ZOsW"),S=i("VuX4");const v=["userWise"];function W(t,e){if(1&t){const t=s.Yb();s.Vb(0),s.Xb(1,"input",27,28),s.ec("change",(function(i){s.zc(t);const n=e.$implicit;return s.gc().setUsersWise(i,n.name+"Select")})),s.Wb(),s.Xb(3,"label",29),s.Jc(4),s.hc(5,"titlecase"),s.Wb(),s.Ub()}if(2&t){const t=e.$implicit;s.Fb(1),s.oc("value",t.name),s.oc("id",t.name),s.Fb(2),s.oc("for",t.name),s.Fb(1),s.Lc("",s.ic(5,4,t.name)," Wise")}}function k(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.hc(2,"titlecase"),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.id),s.Fb(1),s.Lc("",s.ic(2,2,t.name)," ")}}function y(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.tableName),s.Fb(1),s.Lc("",t.tableName," ")}}function X(t,e){if(1&t){const t=s.Yb();s.Xb(0,"ng-select",30),s.ec("change",(function(e){return s.zc(t),s.gc().selectSport(e,"teenpatti")})),s.Xb(1,"ng-option",31),s.Jc(2,"Select Sport"),s.Wb(),s.Hc(3,k,3,4,"ng-option",32),s.Hc(4,y,2,2,"ng-option",32),s.Wb()}if(2&t){const t=s.gc();s.Fb(3),s.nc("ngForOf",t.sportsEventIds),s.Fb(1),s.nc("ngForOf",t.casinoTablesList)}}function F(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.hc(2,"titlecase"),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.eventId.toString()),s.Fb(1),s.Mc("",s.ic(2,3,t.sportsName)," > ",t.eventName," ")}}function N(t,e){if(1&t){const t=s.Yb();s.Xb(0,"ng-select",34),s.ec("change",(function(e){return s.zc(t),s.gc().selectEvent(e)})),s.Xb(1,"ng-option",31),s.Jc(2,"Select Event"),s.Wb(),s.Hc(3,F,3,5,"ng-option",32),s.Wb()}if(2&t){const t=s.gc();s.nc("multiple",!1),s.Fb(3),s.nc("ngForOf",t.eventsList)}}function C(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.hc(2,"titlecase"),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.gameId.toString()),s.Fb(1),s.Nc("",s.ic(2,4,t.sportsName)," > ",t.eventName," > ",t.marketName," ")}}function x(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.gameId.toString()),s.Fb(1),s.Mc("",t.tableName," > ",t.marketName," ")}}function M(t,e){if(1&t){const t=s.Yb();s.Xb(0,"ng-select",35),s.ec("change",(function(e){return s.zc(t),s.gc().selectMarket(e)})),s.Xb(1,"ng-option",31),s.Jc(2,"Select Market"),s.Wb(),s.Hc(3,C,3,6,"ng-option",32),s.Hc(4,x,2,3,"ng-option",32),s.Wb()}if(2&t){const t=s.gc();s.Fb(3),s.nc("ngForOf",t.marketList),s.Fb(1),s.nc("ngForOf",t.casinoMarketsList)}}function w(t,e){if(1&t&&(s.Xb(0,"ng-option",33),s.Jc(1),s.Wb()),2&t){const t=e.$implicit;s.nc("value",t.userId.toString()),s.Fb(1),s.Lc(" ",t.userName," ")}}function I(t,e){if(1&t){const t=s.Yb();s.Vb(0),s.Xb(1,"ng-select",36),s.ec("change",(function(e){return s.zc(t),s.gc().selectUser(e)})),s.Xb(2,"ng-option",31),s.Jc(3),s.hc(4,"titlecase"),s.Wb(),s.Hc(5,w,2,2,"ng-option",32),s.Wb(),s.Ub()}if(2&t){const t=e.$implicit,i=s.gc();s.Fb(1),s.pc("id","",null==t?null:t.name,"SelectInput"),s.Fb(2),s.Lc("Select ",s.ic(4,3,t.name),""),s.Fb(2),s.nc("ngForOf",i.usersListMap[t.id])}}function B(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",37),s.Xb(1,"h2"),s.Jc(2,"Limit Setting"),s.Wb(),s.Xb(3,"div",38),s.Xb(4,"div",39),s.Xb(5,"label",40),s.Jc(6,"Exposure Limit: "),s.Wb(),s.Xb(7,"input",41),s.ec("input",(function(){return s.zc(t),s.gc().limitSetting.get("exposureLimit").get("inherited").setValue(!1)})),s.Wb(),s.Sb(8,"input",42),s.Wb(),s.Xb(9,"div",43),s.Xb(10,"label",44),s.Jc(11,"Bookmaking commission: "),s.Wb(),s.Xb(12,"input",45),s.ec("input",(function(){return s.zc(t),s.gc().limitSetting.get("bookmakingCommission").get("inherited").setValue(!1)})),s.Wb(),s.Sb(13,"input",42),s.Wb(),s.Xb(14,"div",46),s.Xb(15,"label",44),s.Jc(16,"Exchange Commission: "),s.Wb(),s.Xb(17,"input",47),s.ec("input",(function(){return s.zc(t),s.gc().limitSetting.get("matchOddsCommission").get("inherited").setValue(!1)})),s.Wb(),s.Sb(18,"input",42),s.Wb(),s.Xb(19,"div",48),s.Xb(20,"label",44),s.Jc(21,"Bet Delay[Second]: "),s.Wb(),s.Xb(22,"input",49),s.ec("input",(function(){return s.zc(t),s.gc().limitSetting.get("betDelay").get("inherited").setValue(!1)})),s.Wb(),s.Sb(23,"input",42),s.Wb(),s.Xb(24,"div",50),s.Xb(25,"label",44),s.Jc(26,"No. of Minutes Before Inplay: "),s.Wb(),s.Xb(27,"input",51),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("noMinutesBeforeInplay").get("inherited").setValue(!1)})),s.Wb(),s.Sb(28,"input",42),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Fb(7),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1))}function O(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",52),s.Xb(1,"h2"),s.Jc(2,"Market Setting"),s.Wb(),s.Xb(3,"div",38),s.Xb(4,"div",53),s.Xb(5,"label",44),s.Jc(6,"Bet Min Rate: "),s.Wb(),s.Xb(7,"input",54),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("betMinRate").get("inherited").setValue(!1)})),s.Wb(),s.Sb(8,"input",42),s.Wb(),s.Xb(9,"div",55),s.Xb(10,"label",44),s.Jc(11,"Bet Max Rate: "),s.Wb(),s.Xb(12,"input",56),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("betMaxRate").get("inherited").setValue(!1)})),s.Wb(),s.Sb(13,"input",42),s.Wb(),s.Xb(14,"div",57),s.Xb(15,"label",44),s.Jc(16,"Volume Multiplier: "),s.Wb(),s.Xb(17,"input",58),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("volMultiplier").get("inherited").setValue(!1)})),s.Wb(),s.Sb(18,"input",42),s.Wb(),s.Xb(19,"div",59),s.Xb(20,"label",44),s.Jc(21,"Min Stake: "),s.Wb(),s.Xb(22,"input",60),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("minStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(23,"input",42),s.Wb(),s.Xb(24,"div",61),s.Xb(25,"label",44),s.Jc(26,"Max Stake: "),s.Wb(),s.Xb(27,"input",62),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(28,"input",42),s.Wb(),s.Xb(29,"div",63),s.Xb(30,"label",44),s.Jc(31,"Max Profit: "),s.Wb(),s.Xb(32,"input",64),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxProfit").get("inherited").setValue(!1)})),s.Wb(),s.Sb(33,"input",42),s.Wb(),s.Xb(34,"div",65),s.Xb(35,"label",44),s.Jc(36,"Max Loss: "),s.Wb(),s.Xb(37,"input",66),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxLoss").get("inherited").setValue(!1)})),s.Wb(),s.Sb(38,"input",42),s.Wb(),s.Xb(39,"div",67),s.Xb(40,"label",44),s.Jc(41,"Market Before Inplay Limit: "),s.Wb(),s.Xb(42,"input",68),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("marketBeforeInplayLimit").get("inherited").setValue(!1)})),s.Wb(),s.Sb(43,"input",42),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Fb(7),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1)("allowDecimals",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1))}function L(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",69),s.Xb(1,"h2"),s.Jc(2,"Session Setting"),s.Wb(),s.Xb(3,"div",38),s.Xb(4,"div",59),s.Xb(5,"label",44),s.Jc(6,"Min Stake: "),s.Wb(),s.Xb(7,"input",60),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("minStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(8,"input",42),s.Wb(),s.Xb(9,"div",61),s.Xb(10,"label",44),s.Jc(11,"Max Stake: "),s.Wb(),s.Xb(12,"input",62),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("maxStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(13,"input",42),s.Wb(),s.Xb(14,"div",65),s.Xb(15,"label",44),s.Jc(16,"Max Loss: "),s.Wb(),s.Xb(17,"input",66),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("maxLoss").get("inherited").setValue(!1)})),s.Wb(),s.Sb(18,"input",42),s.Wb(),s.Xb(19,"div",63),s.Xb(20,"label",44),s.Jc(21,"Max Profit: "),s.Wb(),s.Xb(22,"input",64),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("maxProfit").get("inherited").setValue(!1)})),s.Wb(),s.Sb(23,"input",42),s.Wb(),s.Xb(24,"div",70),s.Xb(25,"label",44),s.Jc(26,"Per Rate Max Stake: "),s.Wb(),s.Xb(27,"input",71),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("perRateMaxStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(28,"input",42),s.Wb(),s.Xb(29,"div",72),s.Xb(30,"label",44),s.Jc(31,"Commission(%): "),s.Wb(),s.Xb(32,"input",73),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("commission").get("inherited").setValue(!1)})),s.Wb(),s.Sb(33,"input",42),s.Wb(),s.Xb(34,"div",74),s.Xb(35,"label",44),s.Jc(36,"Fancy Bonus: "),s.Wb(),s.Xb(37,"input",75),s.ec("input",(function(){return s.zc(t),s.gc().sessionSetting.get("fancyBonus").get("inherited").setValue(!1)})),s.Wb(),s.Sb(38,"input",42),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Fb(7),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1))}function V(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",19),s.Xb(1,"div",76),s.Xb(2,"h2"),s.Jc(3,"Bookmaking Setting"),s.Wb(),s.Xb(4,"div",77),s.Xb(5,"div",48),s.Xb(6,"label",44),s.Jc(7,"Bet Delay: "),s.Wb(),s.Xb(8,"input",49),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("betDelay").get("inherited").setValue(!1)})),s.Wb(),s.Sb(9,"input",42),s.Wb(),s.Xb(10,"div",59),s.Xb(11,"label",44),s.Jc(12,"Min Stake: "),s.Wb(),s.Xb(13,"input",60),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("minStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(14,"input",42),s.Wb(),s.Xb(15,"div",61),s.Xb(16,"label",44),s.Jc(17,"Max Stake: "),s.Wb(),s.Xb(18,"input",62),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(19,"input",42),s.Wb(),s.Xb(20,"div",63),s.Xb(21,"label",44),s.Jc(22,"Max Profit: "),s.Wb(),s.Xb(23,"input",64),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxProfit").get("inherited").setValue(!1)})),s.Wb(),s.Sb(24,"input",42),s.Wb(),s.Xb(25,"div",65),s.Xb(26,"label",44),s.Jc(27,"Max Loss: "),s.Wb(),s.Xb(28,"input",66),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("maxLoss").get("inherited").setValue(!1)})),s.Wb(),s.Sb(29,"input",42),s.Wb(),s.Xb(30,"div",70),s.Xb(31,"label",44),s.Jc(32,"Max Stake Per Rate: "),s.Wb(),s.Xb(33,"input",78),s.ec("input",(function(){return s.zc(t),s.gc().marketSetting.get("perRateMaxStake").get("inherited").setValue(!1)})),s.Wb(),s.Sb(34,"input",42),s.Wb(),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Fb(8),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1),s.Fb(5),s.nc("allowNull",!1))}class J{}let $=(()=>{class t{constructor(t,e,i,n,s,o,a,l,u){this.common=t,this.usersService=e,this.settingsService=i,this.auth=n,this.formBuilder=s,this.toastr=o,this.eventsService=a,this.dataFormatService=l,this.teenPattiService=u,this.hierarchyList=Array(),this.usersListMap={},this._settingsWiseSubject=new r.a(new J),this.settingsWise$=this._settingsWiseSubject.asObservable(),this.showLimitSettings=!0,this.showMarketSettings=!0,this.showSessionSettings=!0,this.showBookSettings=!1,this.sportsEventIds=[{name:"Soccer",id:"1"},{name:"Tennis",id:"2"},{name:"Cricket",id:"4"},{name:"Teenpatti/ X-Games",id:"casino"},{name:"Horse Racing",id:"7"},{name:"Greyhound Racing",id:"4339"}],this.casinoMarketsList=[]}ngOnInit(){this.settingForm=this.formBuilder.group({userId:["0"],typeWise:["default"],value:["0"]}),this.addLimitControl(),this.addSessionControl(),this.addMarketControl(),this.addBookmakingControl(),this.settingFormInitialVal=this.settingForm.value,this.common.hierarchyList$.subscribe(t=>{this.hierarchyList=t}),this.usersService.listUser(this.auth.currentUser.userId).subscribe(t=>{0===t.errorCode&&t.result[0].users.forEach(t=>{t.userType in this.usersListMap?this.usersListMap[t.userType].push(t):this.usersListMap[t.userType]=[t]})});let t={typeWise:this.settingForm.get("typeWise").value,value:this.settingForm.get("value").value,userId:this.settingForm.get("userId").value};this.getSettings(),this.settingsWise$.subscribe(e=>{t={typeWise:this.settingForm.get("typeWise").value,value:this.settingForm.get("value").value,userId:this.settingForm.get("userId").value},this.settingsService.listSetting(t).subscribe(t=>{t&&0===t.errorCode&&t.result.length?(t.result[0]=Object.entries(t.result[0]).reduce((t,[e,i])=>(i&&"object"==typeof i&&(i=Object.entries(i).reduce((t,[e,i])=>(i&&(t[e]=i),t),{})),i&&(t[e]=i),t),{}),this.resetSettingInputs(),this.settingForm.patchValue(t.result[0])):this.resetSettingInputs()}),e.sport&&"4"!==e.sport&&"-1"!==e.sport&&"teenpatti"===e.sportType&&"0"!==e.sport?(this.showSessionSettings=!1,this.showBookSettings=!1,this.settingForm.removeControl("sessionSetting"),this.settingForm.removeControl("bookSettings"),this.settingForm.updateValueAndValidity()):(this.showSessionSettings=!0,this.showBookSettings=!0,this.addSessionControl(),this.addBookmakingControl(),this.settingForm.updateValueAndValidity()),e.sport&&"-2"===e.sport?(this.showMarketSettings=!1,this.settingForm.removeControl("marketSetting"),this.settingForm.updateValueAndValidity()):(this.showMarketSettings=!0,this.addMarketControl(),this.settingForm.updateValueAndValidity()),e.sport&&"market"===e.typeWise?"-1"!==e.sport&&"-2"!==e.sport?this.settingForm.get("limitSetting").get("bookmakingCommission").disable():"-1"===e.sport?this.settingForm.get("limitSetting").get("matchOddsCommission").disable():"-2"===e.sport?(this.settingForm.get("limitSetting").get("matchOddsCommission").disable(),this.settingForm.get("limitSetting").get("bookmakingCommission").disable()):(this.settingForm.get("limitSetting").get("bookmakingCommission").enable(),this.settingForm.get("limitSetting").get("matchOddsCommission").enable()):(this.settingForm.get("limitSetting").get("bookmakingCommission").enable(),this.settingForm.get("limitSetting").get("matchOddsCommission").enable()),"7"==e.sport||"4339"==e.sport?this.limitSetting.get("noMinutesBeforeInplay").enable():this.limitSetting.get("noMinutesBeforeInplay").disable()}),this.eventsService.activateListGame().subscribe(t=>{0===t.errorCode&&(this.eventsList=t.result,this.eventsList.forEach(t=>{t.markets.map(e=>{e.sportsName=t.sportsName})}),this.marketList=this.dataFormatService.marketWise(t.result))}),this.teenPattiService.listTeenpatti().subscribe(t=>{0===t.errorCode&&(this.casinoTablesList=t.result,this.casinoTablesList.forEach(t=>{var e;let i;null===(e=t.markets)||void 0===e||e.forEach(e=>{i={tableName:t.tableName,marketName:e.marketName,gameId:e.gameId},this.casinoMarketsList.push(i)})}))})}addLimitControl(){let t=this.formBuilder.group({exposureLimit:this.formBuilder.group({value:[],inherited:[!1]}),betDelay:this.formBuilder.group({value:[],inherited:[!1]}),bookmakingCommission:this.formBuilder.group({value:[],inherited:[!1]}),matchOddsCommission:this.formBuilder.group({value:[],inherited:[!1]}),noMinutesBeforeInplay:this.formBuilder.group({value:[],inherited:[!1]})});this.settingForm.addControl("limitSetting",t)}addSessionControl(){let t=this.formBuilder.group({minStake:this.formBuilder.group({value:[],inherited:[!1]}),maxStake:this.formBuilder.group({value:[],inherited:[!1]}),maxProfit:this.formBuilder.group({value:[],inherited:[!1]}),maxLoss:this.formBuilder.group({value:[],inherited:[!1]}),commission:this.formBuilder.group({value:[],inherited:[!1]}),perRateMaxStake:this.formBuilder.group({value:[],inherited:[!1]}),fancyBonus:this.formBuilder.group({value:[],inherited:[!1]})});this.settingForm.addControl("sessionSetting",t)}addMarketControl(){let t=this.formBuilder.group({betMinRate:this.formBuilder.group({value:[],inherited:[!1]}),betMaxRate:this.formBuilder.group({value:[],inherited:[!1]}),minStake:this.formBuilder.group({value:[],inherited:[!1]}),maxStake:this.formBuilder.group({value:[],inherited:[!1]}),maxProfit:this.formBuilder.group({value:[],inherited:[!1]}),maxLoss:this.formBuilder.group({value:[],inherited:[!1]}),volMultiplier:this.formBuilder.group({value:[],inherited:[!1]}),marketBeforeInplayLimit:this.formBuilder.group({value:[],inherited:[!1]})});this.settingForm.addControl("marketSetting",t)}addBookmakingControl(){let t=this.formBuilder.group({betDelay:this.formBuilder.group({value:[],inherited:[!1]}),minStake:this.formBuilder.group({value:[],inherited:[!1]}),maxStake:this.formBuilder.group({value:[],inherited:[!1]}),maxProfit:this.formBuilder.group({value:[],inherited:[!1]}),maxLoss:this.formBuilder.group({value:[],inherited:[!1]}),perRateMaxStake:this.formBuilder.group({value:[],inherited:[!1]})});this.settingForm.addControl("bookSettings",t)}getSettings(){let t={typeWise:this.settingForm.get("typeWise").value,value:this.settingForm.get("value").value,userId:this.settingForm.get("userId").value};this.settingsService.listSetting(t).subscribe(t=>{t&&0===t.errorCode&&t.result.length&&(t.result[0]=Object.entries(t.result[0]).reduce((t,[e,i])=>(i&&Object.entries(i).reduce((t,[e,i])=>(i&&(t[e]=i),t),{}),i&&(t[e]=i),t),{}),this.resetSettingInputs(),this.settingForm.patchValue(t.result[0]))})}get limitSetting(){return this.settingForm.get("limitSetting")}get marketSetting(){return this.settingForm.get("marketSetting")}get sessionSetting(){return this.settingForm.get("sessionSetting")}get bookSetting(){return this.settingForm.get("bookSetting")}resetSettingInputs(){this.settingForm.get("limitSetting").reset(this.settingFormInitialVal.limitSetting),this.settingForm.get("marketSetting")&&this.settingForm.get("marketSetting").reset(this.settingFormInitialVal.marketSetting),this.settingForm.get("sessionSetting")&&this.settingForm.get("sessionSetting").reset(this.settingFormInitialVal.sessionSetting),this.settingForm.get("bookSettings")&&this.settingForm.get("bookSettings").reset(this.settingFormInitialVal.bookSettings)}submit(){console.log(this.settingForm.value),this.settingForm.valid?this.settingsService.setSetting(this.settingForm.value).subscribe(t=>{t&&0===t.errorCode?(this.getSettings(),this.toastr.success("Settings Saved")):(this.toastr.error(t.errorDescription),this.getSettings())}):this.toastr.error("Invalid Input")}setUsersWise(t,e){if(this.settingForm.get("userId").setValue(0),t.target.checked){let t=document.getElementsByClassName("user-wise");for(let e=0;e<t.length;e++)t[e].style.display="none";e&&(document.getElementById(e+"Input").style.display="block")}this.settingForm.get("userId").setValue(0);let i=this._settingsWiseSubject.getValue();i.usersWise=t.target.value,i.userId="0",this._settingsWiseSubject.next(i)}setTypeWise(t){let e=this._settingsWiseSubject.getValue();e.sport="0",this.settingForm.get("value").setValue("0"),e.event="0",e.market="0",e.typeWise=t,this._settingsWiseSubject.next(e)}selectSport(t,e){let i=this._settingsWiseSubject.getValue();i.sport=t,i.sportType=e||"",this._settingsWiseSubject.next(i)}selectEvent(t){let e=this._settingsWiseSubject.getValue();e.event=t,console.log(t,typeof t);let i=this.eventsList.find(t=>t.eventId===+e.event);e.sport=i?i.eventTypeId:null,this._settingsWiseSubject.next(e)}selectMarket(t,e){let i=this._settingsWiseSubject.getValue();i.market=t;let n=this.marketList.find(e=>e.gameId===+t);n?i.sport=n.eventTypeId:(i.sport=this.casinoMarketsList.find(e=>e.gameId===t).tableName,i.sportType="teenpatti"),this._settingsWiseSubject.next(i)}back(){history.back()}selectUser(t){let e=this._settingsWiseSubject.getValue();e.userId=t,this._settingsWiseSubject.next(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(o.a),s.Rb(a.a),s.Rb(c),s.Rb(b.a),s.Rb(g.d),s.Rb(m.b),s.Rb(p.a),s.Rb(h),s.Rb(d.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["app-settings"]],viewQuery:function(t,e){var i;1&t&&s.Oc(v,!0),2&t&&s.wc(i=s.fc())&&(e.userWise=i.first)},decls:42,vars:10,consts:[[1,"full-wrap"],[3,"formGroup","ngSubmit"],[1,"main_wrap"],[1,"function-wrap"],[1,"input-list"],["autocomplete","off","type","radio","name","typeWise","value","default","id","typeWiseDefault","formControlName","typeWise",3,"change"],["for","typeWiseDefault"],["autocomplete","off","type","radio","name","typeWise","value","sport","id","sport","formControlName","typeWise",3,"change"],["for","sport"],["autocomplete","off","type","radio","name","typeWise","value","event","id","event","formControlName","typeWise",3,"change"],["for","event"],["autocomplete","off","type","radio","name","typeWise","value","market","id","market","formControlName","typeWise",3,"change"],["for","market"],["autocomplete","off","type","radio","value","0","name","usersWise","id","usersWise","checked","true",3,"change"],["for","usersWise"],[4,"ngFor","ngForOf"],["autocomplete","off","name","value","formControlName","value",3,"change",4,"ngIf"],["id","selectEvent","class","ng-select","placeholder","Select Event","formControlName","value",3,"multiple","change",4,"ngIf"],["class","ng-select","autocomplete","off","name","value","formControlName","value",3,"change",4,"ngIf"],[1,"container","settings-container"],["formGroupName","limitSetting",4,"ngIf"],["formGroupName","marketSetting",4,"ngIf"],["formGroupName","sessionSetting",4,"ngIf"],["class","container settings-container",4,"ngIf"],[1,"btn_box"],["type","submit",1,"btn-send"],["type","button",1,"btn",3,"click"],["autocomplete","off","type","radio","name","usersWise",3,"value","id","change"],["userWise",""],[3,"for"],["autocomplete","off","name","value","formControlName","value",3,"change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","selectEvent","placeholder","Select Event","formControlName","value",1,"ng-select",3,"multiple","change"],["autocomplete","off","name","value","formControlName","value",1,"ng-select",3,"change"],["autocomplete","off","name","userId","formControlName","userId",1,"user-wise",2,"display","none",3,"id","change"],["formGroupName","limitSetting"],[1,"grid"],["formGroupName","exposureLimit",1,"input-group"],["for","exposure-limit"],["autocomplete","off","type","number","name","value","formControlName","value","placeholder","Enter exposure limit","numberOnly","",3,"allowNull","input"],["type","checkbox","tabindex","-1","formControlName","inherited"],["formGroupName","bookmakingCommission",1,"input-group"],["for",""],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Bookmaking commission","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","matchOddsCommission",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Match Odds Commission","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","betDelay",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Bet Delay","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","noMinutesBeforeInplay",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter No. of Minutes Before Inplay","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","marketSetting"],["formGroupName","betMinRate",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Bet Min Rate","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","betMaxRate",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Bet Max Rate","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","volMultiplier",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Volume Multiplier","numberOnly","","tabindex","",3,"allowNull","allowDecimals","input"],["formGroupName","minStake",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Min Stake","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","maxStake",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Max Stake","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","maxProfit",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Max Profit","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","maxLoss",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Max Loss","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","marketBeforeInplayLimit",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Market Before Inplay Limit","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","sessionSetting"],["formGroupName","perRateMaxStake",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Per Rate Max Stake","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","commission",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Commission","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","fancyBonus",1,"input-group"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Fancy Bonus","numberOnly","","tabindex","",3,"allowNull","input"],["formGroupName","bookSettings"],[1,"grid-bookmaking"],["autocomplete","off","type","number","formControlName","value","placeholder","Enter Max Stake Per Rate","numberOnly","","tabindex","",3,"allowNull","input"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"form",1),s.ec("ngSubmit",(function(){return e.submit()})),s.Xb(2,"div",2),s.Xb(3,"h2"),s.Jc(4,"Settings"),s.Wb(),s.Xb(5,"div",3),s.Xb(6,"ul",4),s.Xb(7,"li"),s.Xb(8,"input",5),s.ec("change",(function(t){return e.setTypeWise(t.target.value)})),s.Wb(),s.Xb(9,"label",6),s.Jc(10,"Default"),s.Wb(),s.Xb(11,"input",7),s.ec("change",(function(t){return e.setTypeWise(t.target.value)})),s.Wb(),s.Xb(12,"label",8),s.Jc(13,"Sport Wise"),s.Wb(),s.Xb(14,"input",9),s.ec("change",(function(t){return e.setTypeWise(t.target.value)})),s.Wb(),s.Xb(15,"label",10),s.Jc(16,"Event Wise"),s.Wb(),s.Xb(17,"input",11),s.ec("change",(function(t){return e.setTypeWise(t.target.value)})),s.Wb(),s.Xb(18,"label",12),s.Jc(19,"Market Wise"),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"ul",4),s.Xb(21,"li"),s.Xb(22,"input",13),s.ec("change",(function(t){return e.setUsersWise(t)})),s.Wb(),s.Xb(23,"label",14),s.Jc(24,"Default"),s.Wb(),s.Hc(25,W,6,6,"ng-container",15),s.Wb(),s.Wb(),s.Xb(26,"ul",4),s.Xb(27,"li"),s.Hc(28,X,5,2,"ng-select",16),s.Hc(29,N,4,2,"ng-select",17),s.Hc(30,M,5,2,"ng-select",18),s.Hc(31,I,6,5,"ng-container",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"div",19),s.Hc(33,B,29,5,"div",20),s.Hc(34,O,44,9,"div",21),s.Hc(35,L,39,7,"div",22),s.Wb(),s.Hc(36,V,35,6,"div",23),s.Xb(37,"div",24),s.Xb(38,"button",25),s.Jc(39,"Save"),s.Wb(),s.Xb(40,"button",26),s.ec("click",(function(){return e.back()})),s.Jc(41,"Cancel"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Fb(1),s.nc("formGroup",e.settingForm),s.Fb(24),s.nc("ngForOf",e.hierarchyList),s.Fb(3),s.nc("ngIf","sport"===e.settingForm.value.typeWise),s.Fb(1),s.nc("ngIf","event"===e.settingForm.value.typeWise),s.Fb(1),s.nc("ngIf","market"===e.settingForm.value.typeWise),s.Fb(1),s.nc("ngForOf",e.hierarchyList),s.Fb(2),s.nc("ngIf",e.showLimitSettings),s.Fb(1),s.nc("ngIf",e.showMarketSettings),s.Fb(1),s.nc("ngIf",e.showSessionSettings),s.Fb(1),s.nc("ngIf",e.showBookSettings))},directives:[g.A,g.q,g.h,g.u,g.b,g.p,g.g,n.l,n.m,f.a,f.c,g.i,g.t,S.a,g.a],pipes:[n.t],styles:["h2[_ngcontent-%COMP%]{margin-bottom:8px}.settings-container[_ngcontent-%COMP%]{display:flex;margin-bottom:12px}.settings-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;padding:8px 16px;border:1px solid rgba(0,0,0,.1)}.settings-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.settings-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:4px;width:85%}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:4px 16px}.input-list[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:0 4px}input[_ngcontent-%COMP%]:disabled{background-color:#d4d4d4}.ng-select[_ngcontent-%COMP%]{width:170px}  .ng-dropdown-panel{width:unset!important}.grid-bookmaking[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:4px 16px}"]}),t})();var U=i("tyNb"),E=i("FUS3");const P=[{path:"",component:$}];let _=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[n.c,U.f.forChild(P),g.j,g.v,f.b,E.a]]}),t})()},FnMX:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("2Vo4"),r=i("AytR"),s=i("fXoL"),o=i("tk/3");const a="sharing_map";let l=(()=>{class t{constructor(t){this.httpClient=t,this.baseUrl=r.a.baseUrl,this._sharingSub=new n.a(null),this.sharing$=this._sharingSub.asObservable();let e=localStorage.getItem(a);e&&this._sharingSub.next(JSON.parse(e))}listHierarchy(){return this.httpClient.get(this.baseUrl+"/listHierarchy")}listUserLog(t){return this.httpClient.get(`${this.baseUrl}/logActivity/${t}`)}getUser(t){return this.httpClient.get(`${this.baseUrl}/getUser/${t}`)}listUser(t,e){return this.httpClient.get(e?`${this.baseUrl}/listUsers/${t}/${e}`:`${this.baseUrl}/listUsers/${t}`)}updateStatus(t,e){return this.httpClient.post(`${this.baseUrl}/updateUser/${t}`,e)}registration(t){return this.httpClient.post(this.baseUrl+"/registration",t)}logCreditRef(t){return this.httpClient.get(`${this.baseUrl}/logCreditRef/${t}`)}changePassword(t){return this.httpClient.post(`${this.baseUrl}/updateUser/${t.userId}`,t)}changeExposureLimit(t){return this.httpClient.post(`${this.baseUrl}/updateUser/${t.userId}`,t)}updateShare(t){return this.httpClient.post(`${this.baseUrl}/updateUser/${t.userId}`,t)}getlog(t){return this.httpClient.get(`${this.baseUrl}/logTransaction/${t}`)}logActivity(t){return this.httpClient.get(`${this.baseUrl}/logActivity/${t}`)}betHistory(t,e,i){return this.httpClient.get(`${this.baseUrl}/betsHistory?from=${t}&to=${e}&userId=${i}`)}profitLoss(t,e,i){return this.httpClient.get(`${this.baseUrl}/profitLoss?from=${t}&to=${e}&userId=${i}`)}setSharing(t){this._sharingSub.next(t),localStorage.setItem(a,JSON.stringify(t))}allowUnmatchedBet(t,e){return this.httpClient.get(e?`/unmatchedBets/${t}/1`:`/unmatchedBets/${t}/0`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(o.b))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);